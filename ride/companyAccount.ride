{-# STDLIB_VERSION 3 #-}
{-# CONTENT_TYPE EXPRESSION #-}
{-# SCRIPT_TYPE ACCOUNT #-}

match (tx) {  
    case t: TransferTransaction => 
        t.timestamp > extract(getInteger(this, "presellTime")) && t.sender == this
    case e: ExchangeTransaction => 
        e.sellOrder.sender == this && e.price >= extract(getInteger(this, "presellPrice"))    
    case _ =>
        false
}
